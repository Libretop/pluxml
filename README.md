# PluXml русская версия

Это небольшой форк французкого проекта PluXml https://www.pluxml.org/: простой, но функциональной CMS без использования БД. Цель форка - создание на базе PluXml CMS для максимально простого и быстрого разворачивания небольших проектов наподобие мини-сервисов, одностраничников и так далее, оснащенных полнофункциональной админ-панелью и обладающих достаточным уровнем безопасности пользовательских данных. 

На данном форке работают:

* http://domtest.pro/;
* http://map.org.ru/;
* http://notleads.ru/;
* http://producthon.ru/;
* http://nizgoraev.ru/;
* http://elektropar.ru/;
* http://bereg-orlanov.ru/;
* http://дешевые-сайты.рф;
* http://bash.net.ru/;
* http://libreboot.org.ru/;
* и т.д.;

## Достоинства PluXml:

1. Максимальная простота разворачивания;
2. Современная архитектура;
3. Достаточно высокая безопасность данных, хранящихся в xml-файлах;
4. GNU GPL.

## Изменения в русской версии:

1. Исправлен и дополнен перевод русской локализации;
2. Дополнен роутинг*;
3. Ядро расширено дополнительными методами;
4. Добавлены новые свойства настроек для панели администратора;
5. Сборка включает в себя визуальный редактор, внедренный для всех форм ввода, и плагин автоматического бекапа;

## Роутинг:

По умолчанию (с отключенной опцией mod_rewrite в настройках): index.php?article[ID]/zagolovok-stati;
С включенной опцией в настройках: article[ID]/zagolovok-stati;
С использованием альтернативного роутинга (настройки htaccess в файле htaccees_alternative в корне): /[title] - статическая страница; /post/[title] и /article/[title] - запись; /section/[title] - категория; 

Ввиду особенностей реализации роутинга в ядре PluXml настоятельно рекомендуется использовать альтернативный роутинг только для небольших статических проектов для сохранения совместимости с возможными новыми версиями PluXml. Для работы с альтернативным роутингом добавлены соответствующие методы. Пример реализации работы с альтернативным роутингом представлен в виде темы landing.



## Установка:

Clone or download, инсталлятор на русском языке запустится автоматически. Вход в админ-панель: /core/admin/. 


## Новые публичные методы класса plx.show:

urlRewrite - изменение url для альтернативного роутинга;

mainTitle(type) - возвращает заголовок текущей страницы. Аргументы type: string - возвращает строку, string - возвращает массив слов заголовка, скомпонованных по два, link - возвращает html ссылку на текущую страницу с заголовком. По умолчанию просто выводит заголовок;

mainlink(output) - возвращает url текущей страницы для альтернативного роутинга;

post(ID) - осуществляет безусловный 301-редирект на /post/ID;

subTitle(type) - возвращает подзаголовок из описания страницы. Аргументы: string - возвращает строку, strong - возвращает массив слов подзаголовка, скомопонованных по четыре;

catId() - возвращает id категории;

catUrl(id) - возвращает url категории по id;

catName($type) - выводит название текущей категории. Аргументы: link - выводит в виде ссылки, иначе - выводит строку;

artId() - возвращает id текущей статьи;

artUrl($echo=TRUE, $extra) или articleUrl - возвращает или выводит (если echo=true) ссылку на текующую статью. Аргументов extra можно передать дополнительные параметры в запрос url - /article/extra/;

artTitle($type=) - выводит заголовок текущей страницы. Аргументы:  link - выводит в виде ссылки, иначе - выводит строку;

artAuthor($echo=true)  - выводит (если echo=TRUE) или возвращает автора статьи;

artCatIds() - возвращает все категории статьи;

artActiveCatIds() - возвращает в виде массива активные категории текущей статьи;

staticId(),  staticUrl($echo=true, $extra=''),  staticTitle($id), staticLink($id)  - аналогичные методы для статичных страниц;

staticContent(ID) - получение контента статической страницы по ID страницы;



## Новые публичные методы класса plx.motor:

getartId - получение ID статьи по ее url;

getcatId - получение ID категории по её url;

getstatId - получени ID статической страницы по её url;

addart($name, $desc, $keywords, $subject, $text, $cat, $author) - добавление статьи в категорию напрямую из форм шаблона, получает: название статьи, описание, ключевые слова, краткое содержание, полный текст, номер категории, id автора. По умолчанию категория 002, автор - 002. Не возвращает ничего, подразумевается, что проверка данных осуществляется при обработке формы;


## Новые публичные методы класса plx.utils:

title2url($str) - формирование url из заголовка;
title2filename($str) - формирование названия xml файла из заголовка;
translit($url) - транлитерация url;





